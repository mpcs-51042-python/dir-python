{"title":"Variables & Expressions","markdown":{"headingText":"Variables & Expressions","containsRefs":false,"markdown":"\nPython code can be thought of as a series of **statements**.\nAs we review the syntax, we'll see the familiar `import`, `if`, and `for` -- all examples of statements.\n\nFirst we'll focus on the **expression**, a special type of statement, as well as **names**, what Python calls variables.\n\n## Expressions\n\nAn expression is anything which evaluates to some *value*.\n\n**Some Expressions**\n\n- `3.145`\n- `\"hello\"`\n- `3 + 4`\n- `func(y)`\n- `person.age * 4`\n\nAll of these can be said to represent a value, some directly, which we call *literals*: `4`, `\"hello\"`, `[1, 2, 3]`.\n\nOthers require further evaluation (e.g. `3 + 4` or `func(y)`) to be resolved to a specific value, but ultimately can be reduced to a value as well.\n\nThough a bit circular, it may be helpful to think of the rule **if it can be assigned to a variable, it is an expression**.\n\n## Assignment Statements\n\nAssignment statements give a name to a value resulting from an expression.\n\n```{python}\nradius = 5\narea = 3.14 * radius ** 2\nname = \"James\"\nin_class = True\n```\n\nAssignment statements:\n\n- Have a **name** on the left-hand side, an **expression** on the right-hand side.\n- Do not require any additional declaration or type.\n- Names must consist of letters, numbers, and/or underscore `_`. Must begin with a letter or underscore.\n- Conventionally written in `snake_case`, with words separated by underscores. (as opposed to `camelCase`)\n\nVariables in Python work a bit differently than you might expect coming from another language.\n\nIn many languages, variables are typed, meaning that when you declare a variable it is a \"box\" that can store a certain sized item.\n\n```c\n// this is C code, the type is part of the variable declaration\nint num_fish = 3;\nchar* name = \"William\";;\n\n// we can not do this!\nnum_fish = name;\n```\n\nIn Python, we just assign an expression to a name.\n\n```python\nnum_fish = 3\nname = \"William\"\nnum_fish = name   # this is allowed! (though bad practice)\n```\n\nDoes this mean variables are untyped?\n\nLet's use Python's `type()` function to see that Python does indeed have types:\n\n```{python}\nprint(type(radius))\nprint(type(area))\nprint(type(name))\nprint(type(in_class))\n```\n\nIn Python, types are *inferred*, not explicitly stated.\n\nAs we'll see, the type is associated with the variable, not the name, a subtle distinction but one of the most important concepts to understand Python's behavior.\n\n## Scalar Types\n\nPython has several built in scalar types.  (Scalar types can have *one* value at a time.)\n\nNumeric: `int`, `float`, `complex`\n\nBool: `bool`\n\nNone: `None`\n\nTypes are in part defined by what can be done with them, let's look at some **operators**:\n\n### Numeric Operators & Functions\n\n| Operation | Result |\n|-----------|--------|\n| `x + y`   | sum    |\n| `x - y`   | difference |\n| `x * y`   | product |\n| `x / y`   | quotient |\n| `x // y`  | floored quotient |\n| `x % y`   | remainder of `x / y` (modulo) |\n| `x ** y`  | `x` to the power of `y`\n| `-x`      | negation of `x` |\n| `abs(x)`  | absolute value / magnitude of `x` |\n| `int(x)`  | `x` converted to integer (floor) |\n| `divmod(x, y)` | the pair `(x // y, x % y)` |\n\n\n```{python}\n3 / 5\n```\n\n```{python}\n3 % 5\n```\n\n```{python}\ndivmod(3, 5)\n```\n\n```{python}\nx = 2.999\nprint(int(2.999))\n```\n\n```{python}\nprint(100 // 2)\n```\n\n```{python}\nm = 10 * 9 * 8 * 7 * 6 * 5 * 4 * 3 * 2\nn = 3628800  # 10!\nprint(n % 11)\n```\n\n::: {.callout-warning}\n\n### Floating Point Precision\n\nFloating point numbers have limited precision, as demonstrated below.\n\nThis is true in all languages, and is a function of how modern computers work.\n\n\n```{python}\n(0.1 + 0.2) == 0.3\n```\n\n**what?!**\n\n```{python}\n0.1 + 0.2\n```\n\nFor this reason, instead of strict equality checking, it is correct to compare that the error is less than some very small epsilon value.\n\n**Question** What problems could this cause?  What can be done about it?\n\n```{python}\n# instead\nepisilon = 0.000000001\nprint(abs((0.1 + 0.2) - 0.3) < episilon)\n```\n\n:::\n\n### Shorthand Operators\n\n| Operation | Result | \n|-----------|--------|\n|  `a += b `  | `a = a + b` |\n|  `a -= b `  | `a = a - b` |\n|  `a /= b ` | `a = a / b` |\n|  `a *= b `  | `a = a * b` |\n|  `a //= b`  | `a = a // b` |\n\n```{python}\nx = 64\nx *= 2\nprint(x)\n\n\ns = \"Hello\"\ns += \" Class\"\nprint(s)\n```\n\n::: {.callout-note}\n### Question\n\nWhat would happen if we did `s /= \"e\"`? Try it and confirm your guess.\n:::\n\n\n### Type Conversion\n\nIf mixing numeric types in arithmetic, Python will automatically upconvert numeric types to the type that can represent more data:\n\n- int, int -> int\n- int, float -> float\n- float, complex -> complex\n\n```{python}\ny = 4.1\nx = int(3 + y)\n\nprint(x, type(x))\n```\n\nThis behavior is why we have two division operators:\n\n```{python}\nx = 2 // 1\nprint(x, type(x))\n\nx = 2 / 1\nprint(x, type(x))\n```\n\n### Comparison Operators\n\n| Syntax     | Definition                                                      |\n| ---        | ---                                                             |\n| ``x > y``  | ``True`` if left operand is greater than the right              |\n| ``x < y``  | ``True`` if left operand is less than the right                 |\n| ``x == y`` | ``True`` if both operands are equal                             |\n| ``x != y`` | ``True`` if both operands are not equal                         |\n| ``x >= y`` | ``True`` if left operand is greater than or equal to the right  |\n| ``x <= y`` | ``True`` if left operand is less than or equal to the right     |\n\n\n### Booleans\n\nResulting type of any of the relational operators.\n\nOnly two possible values: `True`, `False`\n\n### Logical Operators\n\n  - Operators that perform logical AND, OR, and NOT \n  - These operators *short-circuit* (i.e., when an expression is stopped being evaluated as soon as its outcome is determined.) \n\n| Syntax      | Definition                                         |\n| ---         | ---                                                |\n| ``x and y`` | ``True`` if both the operands are true             |\n| ``x or y``  | ``True`` if either of the operands is true         |\n| ``not x``   | ``True`` True if operand is false                  |\n\n\n**Note: these do not use `&` or `|` like in C/Java** \nThose symbols have a different purpose in Python.\n\n::: {.callout-note}\n### Question\n\n```python\na = True and print(\"a\")\nb = False and print(\"b\")\nc = False or print(\"c\")\nd = True or print(\"d\")\n```\n\nWhat will this code print?\n:::\n\n\n::: {.callout-note}\n### Question\n```python\nimport time\n\n# we'll discuss how to write functions/etc. soon\ndef short_func():\n    print(\"short_func\")\n    return False\n\ndef long_func():\n    print(\"long_func\")\n    time.sleep(3)\n    return False\n```\n\nAre these equivalent?\n\n```python\nresult = long_func() and short_func()\n```\n\n```python\nresult = short_func() and long_func()\n```\n\n:::\n\n### None\n\nRepresents the absence of a value. It is the only value of `NoneType`.\nWe'll talk more about uses of `None` as the course progresses.\n\n```{python}\n#| slideshow: {slide_type: subslide}\n#| tags: []\nx = None\nprint(x)\nprint(type(x))\n```\n\n## Sequence Types\n\nWe've seen that **scalar** types take on a single value.\n\n**Sequences** store multiple values in a defined order.\n\nWe'll take a look at `str`, `list`, and `tuple`.\n\n### Strings\n\nCan use `'single'` or `\"double\"`, or `\"\"\"triple for multi-line strings\"\"\"`.\n\n```python\n\ns1 = \"Molly's Idea\"\n\ns2 = '\"I think, therefore I am\" - Descartes'\n\ns3 = \"\"\"From time to time\nThe clouds give rest\nTo the moon-beholders.\n\n- Matsuo Bashō\n\"\"\"\n```\n\n#### Escape Characters\n\nLike many languages, Python supports special 'escape characters'.\n\n```{python}\nprint(\"Another way to \\\"quote\\\" something.\")\n\nprint('An alternate apostrophe: \\' ')\n\nprint(\"Newline character: \\n starts a new line.\")\n\nprint(\"Sometimes you need a \\\\ backslash. \\\" \")\n```\n\n| Character | Meaning |\n|-----------|---------|\n|  \\\\n       | New Line|\n|  \\\\t       | Tab     |\n|  \\\\\\\\       | \\ (backslash) |\n|  \\\\\\'       | ' (apostrophe) |\n|  \\\\\\\"       | \" (quote) |\n\n#### Raw Strings\n\n```{python}\nerror = \"C:\\new\\test.py\"\nprint(error)\n```\n\n**What happened?**\n\nSometimes it is annoying to need to escape every backslash.\n\nTwo common examples are when dealing with file paths on Windows or Regular Expressions.\n\nIn this case we can use r\"\" to denote a raw string.\n\n\n```{python}\nfixed = r\"C:\\new\\test.py\"\nprint(fixed)\n```\n\n```{python}\n# still a str\ntype(fixed)\n```\n\n#### String Formatting\n\nYou'll often need to create strings comprised of other values.\n\nThere are two common ways to do this, `.format` and f-strings:\n\n```{python}\n# format example 1: implicit\n\nfmt = \"{}@{}.{}\"\nemail = fmt.format(\"username\", \"example\", \"com\")\nprint(email)\n```\n\n```{python}\n# format example 2: positional\n\ntemplate = \"Hi {0}, you are user {1}! \\n Bye {0}!\"\nmessage = template.format(\"Tina\", 2.5)\nprint(message)\n\n# note that integer was converted automatically\n# most useful if you want to use the same value multiple times\n```\n\n```{python}\n#| slideshow: {slide_type: subslide}\n# format example 3: keyword\n\nmessage = \"Hi {user}, you are user {num}! \\n Bye {user}!\".format(user=\"Sam\", num=1390)\nprint(message)\n```\n\n```{python}\n# f-strings example (Added in Python 3.6)\n\nuser = \"Ben\"\nnum = 1234\nmessage = f\"Hi {user}, you are user {num}! \\n Bye {user}!\"\nprint(message)\n```\n\n```{python}\n# f-strings debug example (Added in Python 3.8)\nuser = \"James\"\nnum = 1234\n\nprint(f\"{user=} {num=}\")\n# same as f\"user={user} num={num}\" but less repetition\n\n# = is a format specifier, there are many others for aligning output, truncating decimals, etc.\n\nfor i in range(10):\n    print(f\"{i=}\")\n```\n\n### Lists\n\nOne of the most useful sequence types is `list`.\n\nLists are:\n\n- **Ordered** by position, starting at 0.\n\n- **Mutable**, they can be modified in-place\n    \n- Dynamically-sized, can grow and shrink as needed.\n\n- Heterogeneous, can store mixed types. (Though we often avoid this!)\n\n```{python}\nthings = []\n\n# lists can contain items of different types\nthings = [123, \"abc\", 1.23j + 4.5]\n\n# lists can contain other lists\nmeals = [[\"egg\", \"toast\"], [\"sandwich\", \"chips\"], [\"fish\", \"salad\", \"cake\"]]\n\nprint(things)\nprint(meals)\n```\n\n### Tuples\n\nTuples work very similarly to lists but are **immutable**, they cannot be changed once created.\n\n```{python}\nmulti_item = (1, 2.0, \"three\")\n\nempty_tuple = ()\n\none_item_tuple = (1 + 2,)  # why is the comma necessary?\nprint(multi_item)\nprint(empty_tuple)\nprint(one_item_tuple)\n```\n\n```{python}\nbad_tuple = (1 + 492)\nprint(bad_tuple, type(bad_tuple))  \n```\n\n## Sequence Operations\n\nAll three of these sequence types support some useful operations:\n\n|operation | name | description |\n|------|-----|-----|\n| `len(seq)` |  Length |  gets number of items in sequence.\n| `seq1 + seq2` |  Concatenation |  to concatenate together (make a new sequence).\n| `seq * N` |  Repetition |  creates a new sequence that repeats seq, N times.\n| `item in seq` |  Containment |  tests for whether or not a given value appears in a sequence.\n| `seq[N]` |  Indexing | gets Nth value from sequence.\n| `seq[N:M]` | Sliced Indexing | returns a new sequence that is a \"slice\" of the original.\n\n```{python}\n# length demo\ns1 = \"Hello World\"\nl1 = [1, [\"a\", \"b\", \"c\"], 3, None, 4]\nt1 = ()\n\nprint(len(s1))\nprint(len(l1))\nprint(len(t1))\n```\n\n```{python}\n# concatenation & repetition demo\ns2 = \"*\" * 5\nt2 = (True, False) * 3\nl2 = [\"a\", \"b\", \"c\"] * 4\nprint(s2)\nprint(t2)\nprint(l2)\n```\n\n```{python}\n# concatenation & repetition demo\ns2 = \"*\" * 5\nt2 = (True, False) * 3\nl2 = [\"a\", \"b\", \"c\"] * 4\nprint(s2, \"\\n\", t2, \"\\n\", l2)\n```\n\n```{python}\ncities = [\n    \"Tokyo\",\n    \"Delhi\",\n    \"Shanghai\",\n    \"São Paulo\",\n    \"Mexico City\",\n    \"Cairo\",\n    \"Mumbai\",\n    \"Beijing\",\n    \"Dhaka\",\n    \"Osaka\",\n]\ntext = \"Four score and seven years ago our fathers brought forth, upon this continent, a new nation, conceived in liberty, and dedicated to the proposition that all men are created equal\"\nids = (123, 555, 81, 110, 44, 12, 16)\n\nprint(cities[3])\nprint(text[12])\nprint(ids[0])\n```\n\n```{python}\n# containment\nprint(\"Shanghai\" in cities)\nprint(\"Delhi\" in cities)\nprint(\" seven \" in text)\nprint(\"7\" in text)\nprint(123 in ids)\n```\n\n```{python}\n# slicing\nprint(cities[2:-4])\nprint(\"hello world\"[2:5])\nprint(cities[8:])\n```\n\n#### Indexing / Slicing Rules\n\n`s = \"Hello!\"`\n\n| Letter | Index | -Index |\n|--------|-------|--------|\n|    H   |   0   |   -6   |\n|    e   |   1   |   -5   |\n|    l   |   2   |   -4   |\n|    l   |   3   |   -3   |\n|    o   |   4   |   -2   |\n|    !   |   5   |   -1   |\n\nFirst element is 0.\n\nLast element is -1.\n\nSlice boundaries are inclusive of first, exclude last.\n\n### mutable sequence methods\n\n(for now just `list`)\n\n| Operation   | Result | \n|-------------|--------|\n|  `s[i] = x` | Replace element `i` in sequence with `x`. |\n|  `s.append(x)` | Add item to end of sequence. |\n|  `s.clear()`  | Remove all items from sequence. |\n|  `s.copy()`  | Create a (shallow) copy of sequence. |\n|  `s.insert(i, x)` | Insert an item `x` at position `i`. |\n|  `s.pop()` or `s.pop(i)` | Retrieve item at position `i` and remove it.  (Defaults to -1 if not provided) |\n|  `s.reverse()` | Reverse items of `s` in place. |\n\n```{python}\n# list mutation\nletters = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\"]\n\nletters.append(\"H\")\nprint(letters)\n```\n\n```{python}\nletters.insert(0, \"*\") \nletters.pop()\nletters.pop(4)\nprint(letters)\n```\n\n```{python}\nletters.reverse()\nprint(letters)\n```\n\n### common string methods\n\nString has some special methods\n\n| Method                 | Description |\n|------------------------|-------------|\n| s.find(sub)            | Finds first occurrence of substring `sub` or -1 if not found |\n| s.lower()              | Converts the string to lowercase. |\n| s.upper()              | Converts the string to uppercase. |\n| s.replace(old, new)    | Replaces occurrences of old with new. |\n| s.strip()              | Remove leading & trailing whitespace. |\n| s.startswith(prefix)   | Checks if a string starts with prefix. |\n| s.endswith(suffix)     | Checks if a string ends with suffix. |\n| s.split(sep)           | Split a string using `sep` as delimiter. |\n\n\n(Credit: Python Distilled, Table 1.6)\n\n<https://docs.python.org/3/library/stdtypes.html#string-methods>\n\n```{python}\n# string method demo\ns = \"Hello world!\"\n\n# find\npos = s.find(\"world\")\nprint(pos)\n```\n\n```{python}\nprint(s[pos:])\n```\n\n```{python}\nnew_string = s.upper()\n\nprint(\"s=\", s)\nprint(\"new_string=\", new_string)\n```\n\n```{python}\ns.replace(\"world\", \"class\")\nprint(s)\n```\n","srcMarkdownNoYaml":""},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"jupyter"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","filters":["include-code-files"],"toc":true,"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.8.26","number-depth":1,"theme":"yeti"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}